{"version":3,"sources":["file:///A:/code/poly/code/Polyomines/assets/script/Main.ts"],"names":["_decorator","Component","resources","sys","Entity_Manager","Game_Board","ccclass","property","Main","start","console","warn","platform","load","err","jsonAsset","error","load_level","json","level_config","Level_Config","game_board","show_grids","grid_size","entity_manager","generate_grounds","grounds"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAQA,MAAAA,U,OAAAA,U;AAA0BC,MAAAA,S,OAAAA,S;AAAsBC,MAAAA,S,OAAAA,S;AAAiBC,MAAAA,G,OAAAA,G;;AACjEC,MAAAA,c,iBAAAA,c;;AAEAC,MAAAA,U,iBAAAA,U;;;;;;;;;OAEF;AAACC,QAAAA,OAAD;AAAUC,QAAAA;AAAV,O,GAAsBP,U;AAE5B;AACA;;sBAEaQ,I,WADZF,OAAO,CAAC,MAAD,C,UAELC,QAAQ;AAAA;AAAA,mC,UACRA,QAAQ;AAAA;AAAA,2C,sCAHX,MACaC,IADb,SAC0BP,SAD1B,CACoC;AAAA;AAAA;;AAAA;;AAAA;AAAA;;AAKlCQ,QAAAA,KAAK,GAAG;AACNC,UAAAA,OAAO,CAACC,IAAR,gBAA0BR,GAAG,CAACS,QAA9B;AAEAV,UAAAA,SAAS,CAACW,IAAV,CAAe,eAAf,EAAgC,CAACC,GAAD,EAAaC,SAAb,KAAsC;AACpE,gBAAID,GAAG,IAAI,IAAX,EAAiB;AACfJ,cAAAA,OAAO,CAACM,KAAR,CAAcF,GAAd;AACA;AACD;;AAED,iBAAKG,UAAL,CAAgBF,SAAS,CAACG,IAA1B;AACD,WAPD;AAQD;;AAEDD,QAAAA,UAAU,CAACE,YAAD,EAAoB;AAC5BX,UAAAA,IAAI,CAACY,YAAL,GAAoBD,YAApB;AAEA,eAAKE,UAAL,CAAgBC,UAAhB,CAA2BH,YAAY,CAACE,UAAb,CAAwBE,SAAnD;AACA,eAAKC,cAAL,CAAoBC,gBAApB,CAAqCN,YAAY,CAACO,OAAlD;AACD;;AAvBiC,O,UAGpBN,Y","sourcesContent":["import {_decorator, assetManager, Component, JsonAsset, resources, Size, sys} from 'cc';\nimport {Entity_Manager} from './Entity_Manager';\n\nimport {Game_Board} from './Game_Board';\n\nconst {ccclass, property} = _decorator;\n\n/* TODO For now, the 'Main' is just a Level_Loader?\n */\n@ccclass('Main')\nexport class Main extends Component {\n  @property(Game_Board) game_board: Game_Board;\n  @property(Entity_Manager) entity_manager: Entity_Manager;\n  public static Level_Config: any;\n\n  start() {\n    console.warn(`platform: ${sys.platform}`);\n\n    resources.load('data/level_01', (err: Error, jsonAsset: JsonAsset) => {\n      if (err != null) {\n        console.error(err);\n        return;\n      }\n\n      this.load_level(jsonAsset.json);\n    });\n  }\n\n  load_level(level_config: any) {\n    Main.Level_Config = level_config;\n\n    this.game_board.show_grids(level_config.game_board.grid_size);\n    this.entity_manager.generate_grounds(level_config.grounds);\n  }\n}"]}