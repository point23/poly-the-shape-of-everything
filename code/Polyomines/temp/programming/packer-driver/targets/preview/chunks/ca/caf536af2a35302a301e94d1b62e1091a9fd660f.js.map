{"version":3,"sources":["file:///A:/code/poly/code/Polyomines/assets/script/Swipe_Camera.ts"],"names":["_decorator","Camera","Component","input","Input","KeyCode","Vec3","ccclass","property","Swipe_Camera","onLoad","register_event","onDestroy","unregister_event","on","EventType","KEY_DOWN","on_key_down","off","event","key_code","keyCode","camera_position","camera","node","position","KEY_W","setPosition","add","UNIT_Y","KEY_S","subtract","KEY_A","UNIT_Z","KEY_D","KEY_Q","UNIT_X","KEY_E","update_view"],"mappings":";;;;;;;;;;;;;;;;AAAQA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,M,OAAAA,M;AAAQC,MAAAA,S,OAAAA,S;AAA0BC,MAAAA,K,OAAAA,K;AAAOC,MAAAA,K,OAAAA,K;AAAOC,MAAAA,O,OAAAA,O;AAASC,MAAAA,I,OAAAA,I;;;;;;;;;OAEvE;AAACC,QAAAA,OAAD;AAAUC,QAAAA;AAAV,O,GAAsBR,U;;8BAGfS,Y,WADZF,OAAO,CAAC,cAAD,C,UAELC,QAAQ,CAACP,MAAD,C,2BAFX,MACaQ,YADb,SACkCP,SADlC,CAC4C;AAAA;AAAA;;AAAA;AAAA;;AAG1CQ,QAAAA,MAAM,GAAG;AACP,eAAKC,cAAL;AACD;;AAEDC,QAAAA,SAAS,GAAG;AACV,eAAKC,gBAAL;AACD;;AAEDF,QAAAA,cAAc,GAAG;AACfR,UAAAA,KAAK,CAACW,EAAN,CAASV,KAAK,CAACW,SAAN,CAAgBC,QAAzB,EAAmC,KAAKC,WAAxC,EAAqD,IAArD;AACD;;AAEDJ,QAAAA,gBAAgB,GAAG;AACjBV,UAAAA,KAAK,CAACe,GAAN,CAAUd,KAAK,CAACW,SAAN,CAAgBC,QAA1B,EAAoC,KAAKC,WAAzC,EAAsD,IAAtD;AACD;;AAEDA,QAAAA,WAAW,CAACE,KAAD,EAAuB;AAChC,cAAIC,QAAQ,GAAGD,KAAK,CAACE,OAArB;AAEA,cAAIC,eAAe,GAAG,KAAKC,MAAL,CAAYC,IAAZ,CAAiBC,QAAvC;;AAEA,kBAAQL,QAAR;AACE,iBAAKf,OAAO,CAACqB,KAAb;AACE,mBAAKH,MAAL,CAAYC,IAAZ,CAAiBG,WAAjB,CAA6BL,eAAe,CAACM,GAAhB,CAAoBtB,IAAI,CAACuB,MAAzB,CAA7B;AACA;;AACF,iBAAKxB,OAAO,CAACyB,KAAb;AACE,mBAAKP,MAAL,CAAYC,IAAZ,CAAiBG,WAAjB,CAA6BL,eAAe,CAACS,QAAhB,CAAyBzB,IAAI,CAACuB,MAA9B,CAA7B;AACA;;AACF,iBAAKxB,OAAO,CAAC2B,KAAb;AACE,mBAAKT,MAAL,CAAYC,IAAZ,CAAiBG,WAAjB,CAA6BL,eAAe,CAACS,QAAhB,CAAyBzB,IAAI,CAAC2B,MAA9B,CAA7B;AACA;;AACF,iBAAK5B,OAAO,CAAC6B,KAAb;AACE,mBAAKX,MAAL,CAAYC,IAAZ,CAAiBG,WAAjB,CAA6BL,eAAe,CAACM,GAAhB,CAAoBtB,IAAI,CAAC2B,MAAzB,CAA7B;AACA;;AACF,iBAAK5B,OAAO,CAAC8B,KAAb;AACE,mBAAKZ,MAAL,CAAYC,IAAZ,CAAiBG,WAAjB,CAA6BL,eAAe,CAACS,QAAhB,CAAyBzB,IAAI,CAAC8B,MAA9B,CAA7B;AACA;;AACF,iBAAK/B,OAAO,CAACgC,KAAb;AACE,mBAAKd,MAAL,CAAYC,IAAZ,CAAiBG,WAAjB,CAA6BL,eAAe,CAACM,GAAhB,CAAoBtB,IAAI,CAAC8B,MAAzB,CAA7B;AACA;AAlBJ;AAoBD;;AAEDE,QAAAA,WAAW,CAACb,QAAD,EAAiB,CAAE;;AA9CY,O","sourcesContent":["import {_decorator, Camera, Component, EventKeyboard, input, Input, KeyCode, Vec3} from 'cc';\r\n\r\nconst {ccclass, property} = _decorator;\r\n\r\n@ccclass('Swipe_Camera')\r\nexport class Swipe_Camera extends Component {\r\n  @property(Camera) camera: Camera;\r\n\r\n  onLoad() {\r\n    this.register_event();\r\n  }\r\n\r\n  onDestroy() {\r\n    this.unregister_event();\r\n  }\r\n\r\n  register_event() {\r\n    input.on(Input.EventType.KEY_DOWN, this.on_key_down, this);\r\n  }\r\n\r\n  unregister_event() {\r\n    input.off(Input.EventType.KEY_DOWN, this.on_key_down, this);\r\n  }\r\n\r\n  on_key_down(event: EventKeyboard) {\r\n    let key_code = event.keyCode;\r\n\r\n    let camera_position = this.camera.node.position;\r\n\r\n    switch (key_code) {\r\n      case KeyCode.KEY_W:\r\n        this.camera.node.setPosition(camera_position.add(Vec3.UNIT_Y));\r\n        break;\r\n      case KeyCode.KEY_S:\r\n        this.camera.node.setPosition(camera_position.subtract(Vec3.UNIT_Y));\r\n        break;\r\n      case KeyCode.KEY_A:\r\n        this.camera.node.setPosition(camera_position.subtract(Vec3.UNIT_Z));\r\n        break;\r\n      case KeyCode.KEY_D:\r\n        this.camera.node.setPosition(camera_position.add(Vec3.UNIT_Z));\r\n        break;\r\n      case KeyCode.KEY_Q:\r\n        this.camera.node.setPosition(camera_position.subtract(Vec3.UNIT_X));\r\n        break;\r\n      case KeyCode.KEY_E:\r\n        this.camera.node.setPosition(camera_position.add(Vec3.UNIT_X));\r\n        break;\r\n    }\r\n  }\r\n\r\n  update_view(position: Vec3) {}\r\n}\r\n"]}