(undo-tree-save-format-version . 1)
"4d72a7baf948c14e4f22b957b41125eed8b3b003"
[nil nil nil nil (25643 47774 270041 0) 0 nil]
([nil current ((#("#+begin_src plantuml :file  Game_Movement_System.png
title Puzzle Game Movement System

enum Move_Type
enum Move_Flags

class Transaction_Manager {
  {static} instance: Transaction_Manager
  control_flags: number
  commited_stack: Stack<Move_Transaction>
  issued_stack: Stack<Move_Transaction>
  execute()
  clear()
  try_add_new_move(move: Single_Move)
  {static} settle(i: Transaction_Manager)
}

class Move_Transaction {
  id: number
  moves: Single_Move[]
  entity_manager: Entity_Manager
  piority: number
  issue_time: number
  commit_time: number
  add_move(move: Single_Move)
  debug_info(): string
}

class Move_Info {
  move_type: Move_Type;
  source_entity_id: number
  target_entity_id: number
  start_direction: Direction
  end_direction: Direction
  reaction_direction: Direction
}

abstract class Single_Move {
  id: number
  info: Move_Info
  flags: number
  piority: number
  execute(transaction: Move_Transaction)
  try_add_it_self(transaction: Move_Transaction): boolean
  debug_info(): string
}

Single_Move o--> Move_Info
Single_Move --> Move_Flags
Move_Info --> Move_Type

class Controller_Proc_Move extends Single_Move
class Support_Move extends Single_Move
class Pushed_Move extends Single_Move
class Falling_Move extends Single_Move
class Rover_Move extends Single_Move
class Posses_Move extends Single_Move

Move_Transaction o--> Single_Move : moves
Move_Transaction --> Entity_Manager

Transaction_Manager o--> Move_Transaction : issued_stack,commit_stack
#+end_src

" 0 51 (font-lock-fontified t fontified nil font-lock-multiline t face org-block-begin-line org-reference 6386) 51 52 (font-lock-fontified t rear-nonsticky t fontified nil font-lock-multiline t face org-block-begin-line org-reference 6386) 52 53 (fontified nil font-lock-fontified t font-lock-multiline t face org-block-begin-line) 53 88 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 88 120 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 120 145 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 145 146 (fontified nil rear-nonsticky t font-lock-fontified t src-block t font-lock-multiline t) 146 163 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 163 169 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 169 187 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 187 188 (font-lock-fontified t src-block t fontified nil rear-nonsticky t font-lock-multiline t) 188 249 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 249 253 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 253 289 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 289 293 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 293 317 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 317 354 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 354 355 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 355 362 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 362 380 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 380 392 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 392 395 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 395 396 (font-lock-fontified t src-block t fontified nil rear-nonsticky t font-lock-multiline t) 396 418 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 418 500 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 500 607 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 607 609 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 609 611 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 611 617 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 617 629 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 629 707 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 707 732 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 732 733 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 733 734 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 734 735 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 735 736 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 736 737 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 737 738 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 738 739 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 739 740 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 740 741 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 741 742 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 742 743 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 743 744 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 744 745 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 745 746 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 746 747 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 747 748 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 748 749 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 749 750 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 750 751 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 751 752 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 752 753 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 753 754 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 754 755 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 755 756 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 756 757 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 757 758 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 758 759 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 759 760 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 760 761 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 761 762 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 762 763 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 763 764 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 764 765 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 765 766 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 766 767 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 767 768 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 768 769 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 769 770 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 770 771 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 771 772 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 772 773 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 773 774 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 774 775 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 775 779 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 779 780 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 780 781 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 781 782 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 782 783 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 783 784 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 784 785 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 785 786 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 786 787 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 787 788 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 788 789 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 789 790 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 790 791 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 791 792 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 792 793 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 793 794 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 794 795 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 795 796 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 796 797 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 797 798 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 798 799 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 799 807 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 807 808 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 808 812 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 812 813 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 813 814 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 814 815 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 815 816 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 816 817 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 817 818 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 818 819 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 819 820 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 820 821 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 821 822 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 822 823 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 823 824 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 824 825 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 825 826 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 826 827 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 827 828 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 828 829 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 829 830 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 830 831 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 831 832 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 832 833 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 833 834 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 834 835 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 835 836 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 836 837 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 837 838 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 838 839 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 839 840 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 840 841 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 841 842 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 842 843 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 843 844 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 844 845 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 845 846 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 846 847 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 847 848 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 848 849 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 849 850 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 850 851 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 851 852 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 852 853 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 853 854 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 854 855 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 855 856 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 856 857 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 857 858 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 858 859 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 859 860 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 860 861 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 861 862 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 862 863 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 863 864 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 864 865 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 865 866 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 866 867 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 867 868 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 868 869 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 869 870 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 870 871 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 871 872 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 872 873 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 873 874 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 874 875 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 875 876 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 876 877 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 877 878 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 878 879 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 879 880 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 880 881 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 881 882 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 882 883 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 883 884 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 884 885 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 885 886 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 886 887 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 887 888 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 888 889 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 889 890 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 890 891 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 891 892 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 892 893 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 893 894 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 894 895 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 895 896 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 896 897 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 897 898 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 898 899 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 899 900 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 900 901 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 901 902 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 902 903 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 903 904 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 904 905 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 905 906 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 906 907 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 907 908 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 908 909 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 909 910 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 910 911 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 911 912 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 912 913 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 913 914 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 914 915 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 915 916 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 916 917 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 917 918 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 918 919 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 919 920 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 920 921 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 921 924 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 924 925 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 925 926 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 926 927 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 927 928 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 928 929 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 929 930 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 930 931 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 931 932 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 932 933 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 933 934 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 934 935 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 935 936 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 936 937 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 937 938 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 938 939 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 939 940 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 940 941 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 941 942 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 942 943 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 943 944 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 944 945 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 945 946 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 946 947 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 947 948 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 948 949 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 949 950 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 950 951 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 951 952 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 952 953 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 953 954 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 954 955 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 955 956 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 956 957 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 957 958 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 958 959 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 959 960 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 960 974 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 974 980 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 980 986 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 986 1013 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1013 1017 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1017 1060 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1060 1069 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1069 1070 (fontified nil rear-nonsticky t font-lock-fontified t src-block t font-lock-multiline t) 1070 1071 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1071 1079 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 1079 1080 (font-lock-fontified t src-block t fontified nil rear-nonsticky t font-lock-multiline t) 1080 1094 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1094 1095 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1095 1102 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1102 1125 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1125 1156 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1156 1188 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1188 1219 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1219 1228 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1228 1229 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1229 1230 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1230 1231 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1231 1232 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1232 1233 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1233 1240 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1240 1255 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1255 1256 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1256 1270 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1270 1271 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1271 1272 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1272 1273 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1273 1274 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1274 1275 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1275 1276 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1276 1277 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1277 1278 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1278 1279 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1279 1280 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1280 1281 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1281 1282 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1282 1283 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1283 1284 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1284 1285 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1285 1286 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1286 1287 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1287 1288 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1288 1289 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1289 1290 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1290 1291 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1291 1292 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1292 1293 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1293 1294 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1294 1295 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1295 1302 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1302 1303 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 1303 1304 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 1304 1305 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 1305 1306 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 1306 1307 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 1307 1308 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 1308 1309 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 1309 1310 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 1310 1311 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 1311 1312 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 1312 1313 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 1313 1314 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 1314 1315 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 1315 1316 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 1316 1317 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 1317 1318 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 1318 1319 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 1319 1320 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 1320 1321 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 1321 1332 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 1332 1333 (font-lock-fontified t src-block t fontified nil rear-nonsticky t font-lock-multiline t) 1333 1334 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1334 1347 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1347 1386 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1386 1392 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1392 1393 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1393 1394 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1394 1395 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1395 1396 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1396 1397 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1397 1398 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1398 1399 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1399 1400 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1400 1401 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1401 1402 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1402 1403 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1403 1404 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1404 1405 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1405 1406 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1406 1407 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1407 1408 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1408 1409 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1409 1410 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1410 1411 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1411 1412 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1412 1413 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1413 1414 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1414 1415 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1415 1416 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1416 1417 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1417 1418 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1418 1419 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1419 1420 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1420 1421 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1421 1422 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1422 1423 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1423 1424 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1424 1425 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1425 1426 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1426 1427 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1427 1451 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1451 1483 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1483 1484 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1484 1485 (fontified nil font-lock-fontified t font-lock-multiline t face org-block-end-line) 1485 1486 (fontified nil font-lock-fontified t font-lock-multiline t face org-block-end-line) 1486 1487 (fontified nil font-lock-fontified t font-lock-multiline t face org-block-end-line) 1487 1488 (fontified nil font-lock-fontified t font-lock-multiline t face org-block-end-line) 1488 1489 (fontified nil font-lock-fontified t font-lock-multiline t face org-block-end-line) 1489 1490 (fontified nil font-lock-fontified t font-lock-multiline t face org-block-end-line) 1490 1491 (fontified nil font-lock-fontified t font-lock-multiline t face org-block-end-line) 1491 1492 (fontified nil font-lock-fontified t font-lock-multiline t face org-block-end-line) 1492 1493 (fontified nil font-lock-fontified t font-lock-multiline t face org-block-end-line) 1493 1494 (fontified nil face org-block-end-line) 1494 1495 (fontified nil)) . -161) (undo-tree-id0 . -1493) (1656 . 1701) (#("
" 0 1 (fontified nil)) . 1656) (1655 . 1657) (#("#+begin_src plantuml :file  Game_Undo_System.png
title Puzzle Game Undo System

enum Undo_Action_Type

class Undo_Handler {
    manager: Entity_Manager
    pending_creations: CD_Action[]
    pending_destructions: CD_Action[]
    undo_records: Stack<Undo_Record>
    redo_records: Stack<Undo_Record>
    old_entity_state: Map<number, Undoable_Entity_Data>
    dirty: boolean
    enabled: boolean
}

class CD_Action {
  entity_id: number
  serialized_data: string
}
note top of CD_Action : creation or destruction action

class Undo_Record {
  gameplay_time: number
  active_hero_idx: number
  transaction: string
}

CD_Action <--o Undo_Handler : pending_creations,pending_destructions
Undo_Handler o- Undo_Record: undo_records >
Undo_Handler --> Undo_Action_Type

Undo_Handler <--o Entity_Manager
Entity_Manager o- Game_Entity: all_entities >
Game_Entity o--> Undoable_Entity_Data
#+end_src

" 0 47 (font-lock-fontified t fontified nil font-lock-multiline t face org-block-begin-line org-reference 5495) 47 48 (font-lock-fontified t fontified nil rear-nonsticky t font-lock-multiline t face org-block-begin-line org-reference 5495) 48 49 (fontified nil font-lock-fontified t font-lock-multiline t face org-block-begin-line) 49 77 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 77 78 (font-lock-fontified t src-block t fontified nil rear-nonsticky t font-lock-multiline t) 78 79 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 79 80 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 80 103 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 103 124 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 124 156 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 156 164 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 164 187 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 187 188 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 188 189 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 189 190 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 190 191 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 191 192 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 192 193 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 193 194 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 194 195 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 195 196 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 196 203 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 203 204 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 204 205 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 205 206 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 206 207 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 207 208 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 208 209 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 209 210 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 210 211 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 211 216 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 216 217 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 217 218 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 218 219 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 219 220 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 220 221 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 221 222 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 222 223 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 223 224 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 224 225 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 225 226 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 226 227 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 227 228 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 228 229 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 229 230 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 230 231 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 231 232 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 232 233 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 233 234 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 234 235 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 235 236 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 236 237 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 237 238 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 238 239 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 239 240 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 240 241 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 241 242 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 242 243 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 243 244 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 244 245 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 245 246 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 246 247 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 247 248 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 248 249 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 249 250 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 250 251 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 251 252 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 252 253 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 253 254 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 254 255 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 255 256 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 256 257 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 257 258 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 258 259 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 259 260 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 260 261 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 261 262 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 262 263 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 263 264 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 264 265 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 265 266 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 266 267 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 267 268 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 268 269 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 269 270 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 270 271 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 271 272 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 272 273 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 273 274 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 274 275 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 275 292 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 292 300 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 300 310 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 310 311 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 311 395 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 395 396 (font-lock-fontified t src-block t fontified nil rear-nonsticky t font-lock-multiline t) 396 397 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 397 398 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 398 491 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 491 500 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 500 501 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 501 504 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 504 518 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 518 519 (font-lock-fontified t src-block t fontified nil rear-nonsticky t font-lock-multiline t) 519 590 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 590 612 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 612 613 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 613 624 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 624 657 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 657 668 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 668 669 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 669 674 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 674 683 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 683 698 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 698 727 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 727 761 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 761 762 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 762 763 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 763 781 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 781 794 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 794 795 (font-lock-fontified t src-block t fontified nil rear-nonsticky t font-lock-multiline t) 795 796 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 796 802 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 802 803 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 803 804 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 804 817 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 817 818 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 818 819 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 819 820 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 820 821 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 821 822 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 822 823 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 823 824 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 824 825 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 825 826 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 826 827 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 827 828 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 828 829 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 829 830 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 830 831 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 831 832 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 832 833 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 833 834 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 834 835 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 835 836 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 836 837 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 837 838 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 838 842 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 842 843 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 843 844 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 844 845 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 845 846 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 846 847 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 847 848 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 848 849 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 849 850 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 850 851 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 851 852 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 852 853 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 853 854 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 854 855 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 855 856 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 856 857 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 857 858 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 858 859 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 859 860 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 860 861 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 861 862 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 862 863 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 863 864 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 864 865 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 865 866 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 866 867 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 867 868 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 868 869 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 869 870 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 870 871 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 871 872 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 872 873 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 873 879 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 879 880 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 880 884 (fontified nil font-lock-fontified t font-lock-multiline t face org-block-end-line) 884 885 (fontified nil font-lock-fontified t font-lock-multiline t face org-block-end-line) 885 889 (fontified nil font-lock-fontified t font-lock-multiline t face org-block-end-line) 889 890 (fontified nil font-lock-fontified t face org-block-end-line) 890 891 (fontified nil)) . -119) (1010 . 1051) (#("
" 0 1 (fontified nil)) . 1010) (1009 . 1011) (#("#+begin_src plantuml :file  Game_Entity_System.png
title Puzzle Game Entity System
enum Entity_Type
enum Polyomino_Type
enum Direction
enum Quadrant

class Tree_Node {
  x: number
  y: numebr
  values: Game_Entity[]
  children: [Tree_Node, Tree_Node, Tree_Node, Tree_Node, Tree_Node]
}

class Proximity_Grid {
  origin: Vec3
  grid_size: Size
  quad_tree: Tree_Node
  move_entity(e: Game_Entity, p: Vec3)
  add_entity(e: Game_Entity)
  remove_entity(e: Game_Entity)
  point_search(p: Vec3): Game_Entity[]
  local2world(local_pos: Vec3): Vec3
}

class Serializable_Entity_Data {
  prefab: string
  position: Vec3
  rotation: Direction
}

class Undoable_Entity_Data {
  {static} default: Undoable_Entity_Data
  memory: Int32Array
}

class Game_Entity {
  id: number
  undobale: Undoable_Entity_Data
  polyomino_type: Polyomino_Type
  entity_type: Entity_Type
  editing_cover: MeshRenderer
  body: Polygon_Entity
  indicator: Polygon_Entity
  get_position()
  get_rotation()
  get_flags()
  get_is_valid()
  get_is_selected()
  physically_move_to(world_pos: Vec3)
  physically_rotate_to(dir: Direction)
  face_towards(dir: Direction)
  logically_rotate_to()
}

class Entity_Manager {
  all_entities: Game_Entity[]
  proximity_grid: Proximity_Grid
  undo_handler: Undo_Handler
  checkpoints: Game_Entity[]
  rovers: Game_Entity[]
  heroes: Game_Entity[]
  switches: Game_Entity[]
  hints: Game_Entity[]
  entrances: Game_Entity[]
  load_entities(entities_info: any)
  load_entity(info: any, id: number = null): Game_Entity
  move_entity(e: Game_Entity, p: Vec3)
  rotate_entity(e: Game_Entity, d: Direction)
  find(id: number)
  reclaim(e: Game_Entity)
  locate_entities(p: Vec3): Game_Entity[]
  locate_supporters(p: Vec3, depth: number = 1): Game_Entity[]
  locate_supportees(p: Vec3)
  locate_current_supporters(e: Game_Entity): Game_Entity[]
  locate_future_supporters(e: Game_Entity, d: Direction): Game_Entity[]
  locate_current_supportees(e: Game_Entity): Game_Entity[]
  get_entities_info(): any
  get_active_hero(): Game_Entity
  get_is_entering_other_level(): {entering: boolean, idx: number}
  get_pending_win(): boolean
  get_switch_turned_on(): boolean
}

Proximity_Grid --> Tree_Node
Tree_Node --> Quadrant
Proximity_Grid <--o Entity_Manager

Entity_Manager o--> Undo_Handler
Entity_Manager o- Game_Entity: all_entities >

Game_Entity o--> Undoable_Entity_Data
Game_Entity --> Serializable_Entity_Data
Game_Entity --> Entity_Type
Game_Entity --> Direction
Game_Entity --> Polyomino_Type

#+end_src

" 0 49 (font-lock-fontified t fontified nil font-lock-multiline t face org-block-begin-line org-reference 2986) 49 50 (font-lock-fontified t fontified nil rear-nonsticky t font-lock-multiline t face org-block-begin-line org-reference 2986) 50 51 (fontified nil font-lock-fontified t font-lock-multiline t face org-block-begin-line) 51 81 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 81 82 (font-lock-fontified t src-block t fontified nil rear-nonsticky t font-lock-multiline t) 82 100 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 100 131 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 131 134 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 134 149 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 149 216 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 216 217 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 217 218 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 218 282 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 282 283 (rear-nonsticky t font-lock-fontified t src-block t fontified nil font-lock-multiline t) 283 286 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 286 393 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 393 403 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 403 410 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 410 411 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 411 500 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 500 541 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 541 542 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 542 543 (font-lock-fontified t src-block t fontified nil rear-nonsticky t font-lock-multiline t) 543 544 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 544 612 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 612 634 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 634 693 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 693 727 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 727 764 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 764 780 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 780 789 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 789 804 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 804 819 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 819 856 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 856 895 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 895 896 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 896 897 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 897 898 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 898 899 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 899 900 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 900 901 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 901 902 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 902 904 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 904 905 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 905 906 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 906 907 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 907 908 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 908 909 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 909 910 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 910 911 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 911 912 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 912 913 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 913 914 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 914 915 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 915 916 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 916 917 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 917 918 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 918 919 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 919 920 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 920 921 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 921 922 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 922 923 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 923 924 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 924 925 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 925 926 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 926 927 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 927 928 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 928 929 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 929 930 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 930 931 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 931 932 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 932 933 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 933 934 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 934 937 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 937 938 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 938 939 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 939 940 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 940 941 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 941 942 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 942 943 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 943 944 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 944 945 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 945 946 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 946 947 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 947 948 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 948 949 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 949 950 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 950 951 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 951 952 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 952 953 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 953 954 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 954 955 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 955 956 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 956 957 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 957 958 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 958 959 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 959 960 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 960 961 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 961 962 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 962 964 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 964 986 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 986 1003 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1003 1024 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1024 1094 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1094 1098 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1098 1100 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1100 1112 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1112 1134 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1134 1154 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1154 1156 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1156 1157 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1157 1158 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1158 1159 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1159 1160 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1160 1161 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1161 1162 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1162 1163 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1163 1164 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1164 1165 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1165 1166 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1166 1167 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1167 1168 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1168 1169 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1169 1170 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1170 1171 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1171 1172 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1172 1173 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1173 1174 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1174 1175 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1175 1176 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1176 1177 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1177 1178 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1178 1179 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1179 1180 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1180 1181 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1181 1182 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1182 1183 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1183 1184 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1184 1185 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1185 1186 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1186 1187 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1187 1188 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1188 1189 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1189 1190 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1190 1191 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1191 1192 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1192 1193 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1193 1194 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1194 1195 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1195 1196 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1196 1197 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1197 1198 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1198 1199 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1199 1200 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1200 1201 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1201 1202 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1202 1203 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1203 1204 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1204 1205 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1205 1206 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1206 1207 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1207 1208 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1208 1209 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1209 1210 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1210 1211 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1211 1212 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1212 1213 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1213 1214 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1214 1215 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1215 1216 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1216 1217 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1217 1218 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1218 1219 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1219 1220 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1220 1221 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1221 1222 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1222 1223 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1223 1224 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1224 1225 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1225 1226 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1226 1227 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1227 1228 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1228 1229 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1229 1230 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1230 1231 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1231 1232 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1232 1233 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1233 1234 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1234 1235 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1235 1236 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1236 1237 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1237 1238 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1238 1239 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1239 1240 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1240 1241 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1241 1242 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1242 1243 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1243 1244 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1244 1245 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1245 1246 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1246 1247 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1247 1248 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1248 1249 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1249 1250 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1250 1251 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1251 1252 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1252 1253 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1253 1254 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1254 1255 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1255 1256 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1256 1257 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1257 1258 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1258 1259 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1259 1260 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1260 1261 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1261 1262 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1262 1263 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1263 1264 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1264 1265 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1265 1266 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1266 1267 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1267 1268 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1268 1269 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1269 1270 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1270 1271 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1271 1272 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1272 1273 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1273 1274 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1274 1275 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1275 1276 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1276 1277 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1277 1278 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1278 1279 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1279 1280 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1280 1281 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1281 1282 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1282 1283 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1283 1284 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1284 1285 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1285 1286 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1286 1287 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1287 1288 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1288 1289 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1289 1290 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1290 1291 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1291 1292 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1292 1293 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1293 1294 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1294 1295 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1295 1296 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1296 1297 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1297 1298 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1298 1299 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1299 1300 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1300 1301 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1301 1302 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1302 1303 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1303 1304 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1304 1305 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1305 1306 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1306 1307 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1307 1308 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1308 1309 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1309 1310 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1310 1311 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1311 1312 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1312 1313 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1313 1314 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1314 1315 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1315 1316 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1316 1317 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1317 1318 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1318 1319 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1319 1320 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1320 1321 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1321 1322 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1322 1323 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1323 1324 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1324 1325 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1325 1326 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1326 1327 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1327 1328 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1328 1329 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1329 1330 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1330 1331 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1331 1332 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1332 1333 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1333 1334 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1334 1335 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1335 1336 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1336 1337 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1337 1338 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1338 1339 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1339 1340 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1340 1341 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1341 1342 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1342 1343 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1343 1344 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1344 1356 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1356 1372 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1372 1373 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1373 1374 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1374 1375 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1375 1376 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1376 1377 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1377 1378 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1378 1379 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1379 1380 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1380 1381 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1381 1382 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1382 1383 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1383 1384 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1384 1385 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1385 1386 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1386 1387 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1387 1388 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1388 1389 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1389 1390 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1390 1391 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1391 1392 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1392 1393 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1393 1394 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1394 1395 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1395 1396 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1396 1397 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1397 1398 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1398 1426 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1426 1485 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1485 1503 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1503 1504 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1504 1532 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1532 1558 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1558 1598 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1598 1602 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1602 1604 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1604 1646 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1646 1654 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1654 1655 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1655 1750 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1750 1783 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1783 1802 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1802 1842 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1842 1926 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1926 1972 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1972 1999 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1999 2000 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2000 2001 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2001 2002 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2002 2003 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2003 2004 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2004 2005 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2005 2006 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2006 2007 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2007 2008 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2008 2009 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2009 2010 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2010 2011 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2011 2012 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2012 2013 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2013 2014 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2014 2015 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2015 2016 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2016 2017 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2017 2018 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2018 2019 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2019 2020 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2020 2021 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2021 2022 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2022 2023 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2023 2024 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2024 2025 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2025 2026 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2026 2027 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2027 2028 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2028 2029 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2029 2030 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2030 2031 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2031 2032 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2032 2033 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2033 2034 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2034 2035 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2035 2036 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2036 2037 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2037 2038 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2038 2039 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2039 2040 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2040 2058 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2058 2072 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2072 2097 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2097 2104 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2104 2123 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2123 2127 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2127 2163 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2163 2170 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2170 2212 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2212 2216 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2216 2217 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2217 2221 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 2221 2230 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 2230 2231 (font-lock-fontified t src-block t rear-nonsticky t fontified nil font-lock-multiline t) 2231 2237 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2237 2252 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 2252 2277 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2277 2278 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2278 2279 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2279 2280 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2280 2281 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2281 2282 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2282 2283 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2283 2284 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2284 2285 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2285 2286 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2286 2297 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2297 2303 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2303 2315 (font-lock-fontified t src-block t fontified nil font-lock-multiline t) 2315 2317 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2317 2320 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2320 2321 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2321 2322 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2322 2323 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2323 2324 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2324 2325 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2325 2326 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2326 2327 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2327 2328 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2328 2329 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2329 2330 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2330 2331 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2331 2332 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2332 2333 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2333 2334 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2334 2335 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2335 2336 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2336 2337 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2337 2338 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2338 2354 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2354 2374 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2374 2375 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2375 2376 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2376 2377 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2377 2378 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2378 2379 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2379 2380 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2380 2381 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2381 2382 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2382 2383 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2383 2384 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2384 2385 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2385 2386 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2386 2387 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2387 2388 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2388 2389 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2389 2390 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2390 2391 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2391 2392 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2392 2393 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2393 2394 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2394 2395 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2395 2396 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2396 2397 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2397 2398 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2398 2399 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2399 2400 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2400 2401 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2401 2402 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2402 2403 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2403 2404 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2404 2405 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2405 2406 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2406 2407 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2407 2408 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2408 2409 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2409 2410 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2410 2411 (fontified nil rear-nonsticky t font-lock-fontified t src-block t font-lock-multiline t) 2411 2412 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2412 2413 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2413 2449 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2449 2463 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2463 2466 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2466 2489 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2489 2496 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2496 2497 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2497 2498 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2498 2499 (fontified nil font-lock-fontified t font-lock-multiline t face org-block-end-line) 2499 2500 (fontified nil font-lock-fontified t font-lock-multiline t face org-block-end-line) 2500 2501 (fontified nil font-lock-fontified t font-lock-multiline t face org-block-end-line) 2501 2502 (fontified nil font-lock-fontified t font-lock-multiline t face org-block-end-line) 2502 2503 (fontified nil font-lock-fontified t font-lock-multiline t face org-block-end-line) 2503 2504 (fontified nil font-lock-fontified t font-lock-multiline t face org-block-end-line) 2504 2505 (fontified nil font-lock-fontified t font-lock-multiline t face org-block-end-line) 2505 2506 (fontified nil font-lock-fontified t font-lock-multiline t face org-block-end-line) 2506 2507 (fontified nil font-lock-fontified t font-lock-multiline t face org-block-end-line) 2507 2508 (fontified nil face org-block-end-line) 2508 2509 (fontified nil)) . -75) (2584 . 2627) (#("
" 0 1 (fontified nil)) . 2584) (2583 . 2585) (#("#+begin_src plantuml :file Level_Editor.png

title Puzzle Game Level Editor

abstract Game_Mode_Base <<State>> {
    on_enter()
    on_exit()
    save_level()
    handle_key_down(event: EventKeyboard)
    handle_key_up(event: EventKeyboard)
    handle_mouse_down(event: EventMouse)
    handle_mouse_move(event: EventMouse)
    handle_mouse_scroll(event: EventMouse)
    handle_touch_start(event: EventTouch)
    handle_touch_move(event: EventTouch)
    handle_touch_end(event: EventTouch)
}

class Contextual_Manager <<Context>> {
  {static} instance: Contextual_Manager
  game_modes: Game_Mode[]
  current_mode: Game_Mode
  current_mode_idx: number
  is_enabled: boolean
  enable();
  dispose();
  register_events();
  unregister_events();
  switch_mode();
  save_level();
   on_key_up(event: EventKeyboard) 
    on_mouse_down(event: EventMouse)
    on_mouse_move(event: EventMouse)
    on_mouse_scroll(event: EventMouse)
    on_touch_start(event: EventTouch)
    on_touch_move(event: EventTouch)
    on_touch_end(event: EventTouch)
  {static} Settle(i: Contextual_Manager);
}

class Entity_Edit_Mode <<ConcreteStateA>> {
   camera: Camera
  ray: geoMetry.Ray
  copied_entities: Serialize_Entity_Data
  copy_selected_entities()
  paste_copied_entities()
  delete_selected_entities()
  select()
  deselect()
  select_all()
  deselect_all()
  move_selected_entities()
  roatte_selected_entities()
}

class Test_Run_Mode <<ConcreteStateB>> {
  inputs_navigatar: Navigatar
  input_manager: Input_Manager 
  switch_to_prev_input_handler()
  switch_to_next_input_handler()
  show_hints()
  init_ui()
  clear_ui()
}

class Swipe_Camera_Mode <<ConcreteStateC>> {
  controller: Camera_3D_Controller;
}

class Light_Mode <<ConcreteStateD>> {
  controller: Camera_3D_Controller;
}

Entity_Edit_Mode --|> Game_Mode_Base
Test_Run_Mode --|> Game_Mode_Base
Swipe_Camera_Mode --|> Game_Mode_Base
Light_Mode --|> Game_Mode_Base

Contextual_Manager o--> Game_Mode_Base

class Level_Editor <<Client>> {}
Level_Editor --> Contextual_Manager

#+end_src

" 0 42 (font-lock-fontified t fontified nil font-lock-multiline t face org-block-begin-line org-reference 952) 42 43 (font-lock-fontified t fontified nil rear-nonsticky t font-lock-multiline t face org-block-begin-line org-reference 952) 43 44 (fontified nil font-lock-fontified t font-lock-multiline t face org-block-begin-line) 44 49 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 49 76 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 76 101 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 101 110 (fontified nil font-lock-fontified t src-block t face org-target font-lock-multiline t) 110 500 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 500 517 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 517 528 (fontified nil font-lock-fontified t src-block t face org-target font-lock-multiline t) 528 576 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 576 1102 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1102 1120 (fontified nil font-lock-fontified t src-block t face org-target font-lock-multiline t) 1120 1419 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1419 1437 (fontified nil font-lock-fontified t src-block t face org-target font-lock-multiline t) 1437 1635 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1635 1653 (fontified nil font-lock-fontified t src-block t face org-target font-lock-multiline t) 1653 1712 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1712 1730 (fontified nil font-lock-fontified t src-block t face org-target font-lock-multiline t) 1730 1972 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 1972 1982 (fontified nil font-lock-fontified t src-block t face org-target font-lock-multiline t) 1982 2023 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 2023 2032 (fontified nil font-lock-fontified t font-lock-multiline t face org-block-end-line) 2032 2033 (fontified nil face org-block-end-line) 2033 2034 (fontified nil)) . -37) (2071 . 2108) (#("
" 0 1 (fontified nil)) . 2071) (2070 . 2072) (#("#+begin_src plantuml :file Game_Input.png
title Game Input Handler

class Button_State {
    button: Game_Button
    ended_down: boolean
    counter: number
    pressed_at: number
}

class Game_Input {
    pending_records: Game_Button[]
    button_states: Map<number, button_state>
    press(b: Game_Button)
    increase_count(b: Game_Button)
    release(b: Game_Button)
}

class Game_Input_Handler {
    input: Game_Input
    init(i: Game_Input)
    clear()
    update_input()
    name(): string
}

class Virtual_Controller extends Game_Input_Handler 
class Keyboard extends Game_Input_Handler

enum Game_Button
enum Dpad_Button
enum Action_Button
enum Keyboard_Command_Button

Virtual_Controller --> Game_Button
Virtual_Controller --> Dpad_Button
Virtual_Controller --> Action_Button

Keyboard --> Game_Button
Keyboard --> Keyboard_Command_Button

Game_Input_Handler o-> Game_Input

Game_Input --> Button_State
Game_Input --> Game_Button
#+end_src

" 0 41 (fontified nil font-lock-fontified t font-lock-multiline t face org-block-begin-line org-reference 1) 41 42 (fontified nil font-lock-fontified t font-lock-multiline t face org-block-begin-line) 42 500 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 500 940 (fontified nil font-lock-fontified t src-block t font-lock-multiline t) 940 949 (fontified nil font-lock-fontified t font-lock-multiline t face org-block-end-line) 949 950 (fontified nil face org-block-end-line) 950 951 (fontified nil)) . -1) (952 . 987) (#("
" 0 1 (fontified nil)) . 952) (951 . 953) (nil org-reference nil 6437 . 6438) (nil org-reference nil 6386 . 6437) (nil org-reference nil 5542 . 5543) (nil org-reference nil 5495 . 5542) (nil org-reference nil 3035 . 3036) (nil org-reference nil 2986 . 3035) (nil org-reference nil 994 . 995) (nil org-reference nil 952 . 994) (nil org-reference nil 1 . 42) (t . 0) (1 . 7880) (t . 0)) nil (25643 47774 270035 0) 0 nil])
nil
